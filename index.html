
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spiritualectics Life Forecast Portal</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f3f3f3; padding: 20px; max-width: 700px; margin: auto; }
    h1, h2 { text-align: center; color: #222; }
    label { font-weight: bold; display: block; margin-top: 15px; }
    input[type=number], input[type=range] { width: 100%; margin-bottom: 10px; }
    button { background-color: #007acc; color: white; padding: 10px; width: 100%; border: none; cursor: pointer; margin-top: 20px; }
    button:hover { background-color: #005f99; }
    #result { background: white; padding: 20px; margin-top: 25px; border-radius: 8px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>Spiritualectics Life Forecast Portal v1.0</h1>
  <h2>Step 1: Your Vitality Timeline</h2>

  <label>Current Age</label>
  <input type="number" id="ageNow" required />

  <label>At what age did you feel most alive and powerful? (λₕ)</label>
  <input type="number" id="lambdaH" required />

  <h2>Step 2: Your Current Energetic State</h2>

  <label>Emotional Stability (0–5)</label>
  <input type="range" min="0" max="5" step="0.1" id="emotional" />

  <label>Sense of Life Purpose (0–5)</label>
  <input type="range" min="0" max="5" step="0.1" id="purpose" />

  <label>Physical Vitality (0–5)</label>
  <input type="range" min="0" max="5" step="0.1" id="vitality" />

  <label>Mental Clarity (0–5)</label>
  <input type="range" min="0" max="5" step="0.1" id="clarity" />

  <label>Spiritual Connection (0–5)</label>
  <input type="range" min="0" max="5" step="0.1" id="spiritual" />

  <button onclick="runForecast()">Run Life Forecast</button>

  <div id="result"></div>

  <script>
    function runForecast() {
      const ageNow = parseFloat(document.getElementById("ageNow").value);
      const lambdaH = parseFloat(document.getElementById("lambdaH").value);

      const emotional = parseFloat(document.getElementById("emotional").value);
      const purpose = parseFloat(document.getElementById("purpose").value);
      const vitality = parseFloat(document.getElementById("vitality").value);
      const clarity = parseFloat(document.getElementById("clarity").value);
      const spiritual = parseFloat(document.getElementById("spiritual").value);

      const currentQEAS = (emotional + purpose + vitality + clarity + spiritual) / 5;
      const peakQEAS = 4.5;
      const decaySlope = Math.log(peakQEAS / currentQEAS) / (ageNow - lambdaH);
      const yearsLeft = (1 / decaySlope) * Math.log(peakQEAS / 0.8);
      const deathAge = ageNow + yearsLeft;
      const qeasPercent = ((currentQEAS / 5) * 100).toFixed(1);

      let stage = "";
      if (currentQEAS > 3.5) stage = "Vital – Pre-λₕ Stage";
      else if (currentQEAS > 2.0) stage = "Decline Phase – Post-λₕ, Pre-Tᶠ";
      else if (currentQEAS > 1.5) stage = "Terminal Frequency Collapse (Tᶠ)";
      else if (currentQEAS > 0.8) stage = "Final Imprint Threshold (Tᵢ)";
      else stage = "Dissonant Rupture Imminent (Dᵣ)";

      const output = isFinite(deathAge) ? `
        <strong>Current QEAS Score:</strong> ${currentQEAS.toFixed(2)} (${qeasPercent}%)<br>
        <strong>Decay Slope (λₜ):</strong> ${decaySlope.toFixed(4)}<br>
        <strong>Estimated Years to Dᵣ:</strong> ${yearsLeft.toFixed(1)}<br>
        <strong>Forecasted Age of Death (Dᵣ):</strong> ${deathAge.toFixed(1)}<br>
        <strong>Spiritual Stage:</strong> ${stage}
      ` : `
        <strong>Energetic recovery detected.</strong><br>
        You may be spiritually improving. No forecast is possible.
      `;

      document.getElementById("result").innerHTML = `<div>${output}</div>`;
    }
  </script>
</body>
</html>
